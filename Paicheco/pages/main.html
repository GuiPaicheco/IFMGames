<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ecos da Pedra Abissal</title>
  <link rel="stylesheet" href="../css/main.css" />
</head>
<body>

  <!-- BackGround -->
  <canvas id="background-canvas"></canvas>

  <!-- Overlay de Pausa -->
<div id="pause-overlay">
  <div id="pause-text">⏸ Jogo Pausado</div>
  <button id="resume-btn">▶️ Retomar</button>
</div>

  <!-- Ícone de volume -->
  <img src="assets/icons/Vol.png" alt="Volume" id="volume-icon" onclick="toggleSettings()" />

  <!-- Caixa de volume -->
  <div id="settings-box" class="overlay-box hidden">
    <div class="settings-slider">
      🔊 Volume Som: <input type="range" id="sound-slider" min="0" max="100" value="100">
    </div>
    <div class="settings-slider">
      🎵 Volume Música: <input type="range" id="music-slider" min="0" max="100" value="40">
    </div>
  </div>

  <!-- Botão do mapa -->
  <img src="assets/icons/map.png" alt="Mapa" id="map-icon" onclick="toggleMap()" />

  <!-- Caixa do mapa -->
  <div id="map-box" class="overlay-box hidden">
    <h3>🗺️ Mapa da Dungeon</h3>
    <p><strong>Jogador 1:</strong> Paicheco (Mago Arcano) — <span id="map-andar1">+30</span></p>
    <p><strong>Jogador 2:</strong> Lira (Feiticeira das Sombras) — <span id="map-andar2">+30</span></p>
    <p class="map-desc">Você está atualmente no andar <span id="map-pos">+30</span>.</p>
  </div>  

  <!-- Ícone do Walkie-Talkie -->
  <img id="walkie-icon" src="../assets/icons/button/WalkieTalkie.png" alt="Walkie Talkie" />

  <!-- Caixa do Walkie-Talkie -->
  <div id="walkie-box">
    <div id="walkie-header">Walkie-Talkie</div>
    <div id="walkie-chat"></div>
    <div id="walkie-input-area">
      <div id="walkie-input" contenteditable="true" placeholder="Digite sua mensagem..." maxlength="150"></div>
      <button id="walkie-send">Enviar</button>
    </div>
  </div>

  <!-- Ícone de Estado do Jogo (Salvar / Reiniciar / Pausar / Menu) -->
  <img src="../assets\icons\button\StateGame.png" alt="Estado do Jogo" id="state-icon" onclick="toggleStateBox()" />

  <!-- Caixa de Estado do Jogo -->
  <div id="state-box" class="overlay-box hidden">
    <h3>⚙️ Opções do Jogo</h3>
    <div class="settings-option" onclick="salvarJogo()">💾 Salvar Jogo</div>
    <div class="settings-option" onclick="resetarJogo()">🔁 Reiniciar Jogo</div>
    <div class="settings-option" onclick="pausarJogo()">⏸ Pausar Jogo</div>
    <div class="settings-option" onclick="voltarMenu()">🏠 Voltar ao Menu</div>
  </div>

  <!-- Conteúdo principal -->
  <main id="game-container">

    <!-- Caixa de diálogo -->
    <section id="dialog-box" class="overlay-box fade-in"><p></p></section>

    <!-- Inventário -->
    <section id="inventory-box" class="overlay-box">
      <div class="inventory-item" title="Poção de Cura"><img src="../assets/icons/itens/Potion.png" /></div>
      <div class="inventory-item"></div>
      <div class="inventory-item"></div>
      <div class="inventory-item"></div>
      <div class="inventory-item"></div>
      <div class="inventory-item"></div>
      <div class="inventory-item"></div>
      <div class="inventory-item"></div>
    </section>

    <!-- Caixa de escolhas -->
    <section id="choices-box">
      <div class="choice overlay-box" onclick="buttonClick(); explorar();">
        <img src="icons/explore.png" /><br>Explorar
      </div>
      <div class="choice overlay-box" onclick="buttonClick(); descansar();">
        <img src="icons/rest.png" /><br>Descansar
      </div>
      <div class="choice overlay-box" onclick="buttonClick(); fugir();">
        <img src="icons/run.png" /><br>Fugir
      </div>
      <div class="choice overlay-box" onclick="buttonClick(); usarItem();">
        <img src="icons/item.png" /><br>Usar Item
      </div>
    </section>

    <!-- Status -->
    <section id="status-box" class="overlay-box">
      <p><strong>Nome:</strong> Paicheco (Mago Arcano)</p>
      <p><strong>HP:</strong> <span id="hp">100</span> | <strong>MP:</strong> <span id="mp">50</span></p>
    </section>
  </main>

  <!-- Som Ambiente -->
  <audio id="ActionButtonSound" src="../assets/sounds/ActionButtonSound.mp3"></audio>
  <audio id="ButtonHoverSound" src="../assets/sounds/ButtonHoverSound.mp3"></audio>
  <audio id="ConfigButtonSound" src="../assets/sounds/ConfigButtonSound.mp3"></audio>
  <audio id="AmbSound" src="../assets/sounds/AmbSound.mp3"></audio>
  <audio id="MapSound" src="../assets/sounds/MapSound.mp3"></audio>
  <audio id="RestartSound" src="../assets/sounds/RestartSound.mp3"></audio>
  <audio id="SaveSound" src="../assets/sounds/SaveSound.mp3"></audio>
  <audio id="WalkieTalkieSound" src="../assets/sounds/WalkieTalkieSound.mp3"></audio>
  <audio id="WalkieSendSound" src="../assets/sounds/WalkieSend.mp3"></audio>
  <audio id="WalkieReceiveSound" src="../assets/sounds/WalkieReceive.mp3"></audio>


  <!-- Script -->
  <script src="../js/main.js"></script>
  <script>

    // Voltar ao Menu
    function voltarMenu() {
      if(confirm("Deseja realmente voltar ao menu inicial? Progresso não salvo será perdido.")) {
        window.location.href = "../home.html";
      }
    }
  </script>

</body>
</html>
